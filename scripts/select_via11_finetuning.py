from pathlib import Path

import SimpleITK as sitk
import numpy as np
out_folder = '/mrhome/vladyslavz/git/central-sulcus-analysis/data/via11/nobackup/fs_segm_maps'

fs_qc_passed = ['sub-via003','sub-via004','sub-via010','sub-via013','sub-via017','sub-via019','sub-via020','sub-via023','sub-via026','sub-via028','sub-via030','sub-via033','sub-via037','sub-via043','sub-via044','sub-via046','sub-via049','sub-via050','sub-via051','sub-via052','sub-via054','sub-via059','sub-via064','sub-via065','sub-via068','sub-via069','sub-via070','sub-via072','sub-via083','sub-via085','sub-via087','sub-via088','sub-via092','sub-via097','sub-via100','sub-via101','sub-via102','sub-via108','sub-via109','sub-via114','sub-via118','sub-via119','sub-via121','sub-via122','sub-via124','sub-via125','sub-via126','sub-via127','sub-via130','sub-via131','sub-via134','sub-via139','sub-via141','sub-via142','sub-via146','sub-via149','sub-via150','sub-via151','sub-via152','sub-via153','sub-via154','sub-via156','sub-via163','sub-via165','sub-via169','sub-via171','sub-via172','sub-via173','sub-via183','sub-via185','sub-via186','sub-via187','sub-via190','sub-via193','sub-via196','sub-via197','sub-via201','sub-via205','sub-via206','sub-via208','sub-via209','sub-via212','sub-via213','sub-via214','sub-via215','sub-via217','sub-via218','sub-via219','sub-via231','sub-via234','sub-via235','sub-via238','sub-via240','sub-via248','sub-via249','sub-via250','sub-via253','sub-via254','sub-via256','sub-via269','sub-via273','sub-via274','sub-via276','sub-via277','sub-via278','sub-via279','sub-via287','sub-via288','sub-via289','sub-via293','sub-via294','sub-via297','sub-via298','sub-via299','sub-via310','sub-via311','sub-via312','sub-via313','sub-via317','sub-via319','sub-via320','sub-via323','sub-via325','sub-via326','sub-via328','sub-via337','sub-via338','sub-via339','sub-via340','sub-via343','sub-via344','sub-via348','sub-via350','sub-via351','sub-via353','sub-via354','sub-via364','sub-via365','sub-via366','sub-via368','sub-via369','sub-via372','sub-via374','sub-via375','sub-via377','sub-via378','sub-via379','sub-via380','sub-via383','sub-via384','sub-via385','sub-via387','sub-via388','sub-via389','sub-via390','sub-via391','sub-via392','sub-via393','sub-via396','sub-via399','sub-via400','sub-via401','sub-via402','sub-via403','sub-via404','sub-via407','sub-via408','sub-via410','sub-via411','sub-via426','sub-via429','sub-via431','sub-via433','sub-via435','sub-via438','sub-via439','sub-via440','sub-via441','sub-via442','sub-via443','sub-via444','sub-via450','sub-via451','sub-via452','sub-via453','sub-via456','sub-via458','sub-via459','sub-via467','sub-via471','sub-via473','sub-via476','sub-via478','sub-via481','sub-via483','sub-via486','sub-via488','sub-via489','sub-via493','sub-via494','sub-via495','sub-via499','sub-via501','sub-via504','sub-via506','sub-via509','sub-via510','sub-via511','sub-via512','sub-via513','sub-via515','sub-via517','sub-via518','sub-via519','sub-via521','sub-via522']
bvisa_qc_passed = ['sub-via004','sub-via005','sub-via020','sub-via023','sub-via038','sub-via052','sub-via053','sub-via069','sub-via070','sub-via072','sub-via081','sub-via083','sub-via085','sub-via088','sub-via090','sub-via098','sub-via101','sub-via108','sub-via109','sub-via118','sub-via124','sub-via125','sub-via126','sub-via130','sub-via141','sub-via142','sub-via146','sub-via149','sub-via150','sub-via151','sub-via152','sub-via153','sub-via160','sub-via161','sub-via162','sub-via168','sub-via171','sub-via173','sub-via179','sub-via185','sub-via186','sub-via201','sub-via205','sub-via206','sub-via209','sub-via212','sub-via213','sub-via215','sub-via217','sub-via224','sub-via234','sub-via253','sub-via261','sub-via269','sub-via273','sub-via276','sub-via277','sub-via279','sub-via281','sub-via283','sub-via289','sub-via294','sub-via319','sub-via320','sub-via323','sub-via325','sub-via326','sub-via328','sub-via330','sub-via336','sub-via343','sub-via344','sub-via348','sub-via350','sub-via354','sub-via355','sub-via358','sub-via362','sub-via363','sub-via364','sub-via368','sub-via372','sub-via374','sub-via377','sub-via378','sub-via379','sub-via385','sub-via387','sub-via389','sub-via390','sub-via391','sub-via393','sub-via399','sub-via400','sub-via401','sub-via402','sub-via407','sub-via408','sub-via410','sub-via412','sub-via416','sub-via429','sub-via435','sub-via438','sub-via442','sub-via443','sub-via444','sub-via452','sub-via453','sub-via456','sub-via467','sub-via478','sub-via481','sub-via483','sub-via486','sub-via488','sub-via489','sub-via492','sub-via499','sub-via504','sub-via509','sub-via513','sub-via515','sub-via517','sub-via522']


lm = sitk.ReadImage('/mrhome/vladyslavz/git/SynthSeg/data/training_label_maps/training_seg_13.nii.gz')
lm = sitk.GetArrayFromImage(lm)
print((np.unique(lm)>500).sum())

fs_qc_passed = set(fs_qc_passed)
bvisa_qc_passed = set(bvisa_qc_passed)

qc_passed = fs_qc_passed.intersection(bvisa_qc_passed)

print(f'FreeSurfer QC passed: {len(fs_qc_passed)}')
print(f'BVISA QC passed: {len(bvisa_qc_passed)}')
print(f'QC passed: {len(qc_passed)}')